# 思考问题：
新闻显示页面(newsDatail.jsp)的新闻信息是存储在JSP页面中，可新闻系统中不止一条新闻，这些不同的新闻信息都要存储在不同的JSP页面中吗？       

## 使用JDBC查询新闻：
JDBC:    
JDBC是一种Java数据库连接技术(Java DataBase Connectivity)，能实现Java程序对各种数据库的访问；       
由一组使用Java语言编写的类和接口组成，这些类和接口称之为`JDBC API`；它们位于`java.sql`以及`javax.sql`中；   
可以通过查看帮助文档查阅`JDBC API`如何使用；   


### JDBC编程步骤：
- 第一步：           
通过`Class.forName()`将驱动程序类加载到虚拟机的内存中；      
- 第二步：    
通过DriverManager类的`getConnection()`方法获得数据库连接；需要给出连接数据库的URL和用户名、密码；    
- 第三步：   
用数据库连接对象获得Statement对象，它可以用来执行SQL语句；        
- 第四步：    
用statement对象执行SQL语句；       
其实，说执行还不够准确，因为SQL语句只能被数据库来执行；Statement只是负责发送SQL和接收结果。      
- 第五步：   
处理执行结果；      
这里查询结果为Result；       
- 第六步：   
释放数据库的连接；      
因为数据库的连接是一个重量级的对象，如果是多用户并发访问的应用程序，比如`B/S`应用程序；     
每个用户都是只连接但不释放，将不断耗费服务器的资源直至服务器down机；      

##### 思考：
新闻信息存储在Oracle数据库中，但在开发和部署时可能使用不同的数据库，也可能因为客户的需求变更而变换数据库产品。此时，刚才查询新闻信息的做法有何弊端？      
弊端：           
如果我们将数据库的连接信息，比如数据库的URL、用户名、密码等像刚才那样硬编码到程序当中；当数据库发生改变时，我们就要重新修改代码，重新编译和部署；    
 
解决办法：    
将数据库信息写在配置文件当中，让程序通过读取配置文件来获得这些信息；    
使用配置文件存储数据库信息、编写通用DAO类：        
因为在开发和部署时有可能使用不同的数据库；     
所以我们也可以将数据库信息存储在properties配置文件中；将代码中功能相似重复的部分抽取封装方法，编写通用DAO类；    


##### 使用JDBC实现增加、修改新闻标题以及删除信息的功能；     
经验：      
PreparedStatement对象对于statement对象，提高了代码的可读性和可维护性，提高了SQL语句执行的性能，能防止SQL注入，提高了安全性；      
将相似功能的代码抽取封装成方法，减少代码冗余；      
因为不同的数据库会有不同的实现，对数据库的操作一般抽取成接口，在以后的开发中可以降低耦合；        

### 使用Tomcat数据源：
思考问题：     
虽然使用JDBC可以连接数据库，但是每次操作都要连接和关闭，这样会不会影响运行效率？能不能重用数据库的连接；    
解决问题：     
可以使用数据源和连接池。   
数据源用来连接数据库，连接池用来管理连接对象。    
在程序中使用JNDI获取数据源。        

#### 在Tomcat中使用数据源的步骤：
```   
Tomcat中加入数据库驱动软件；    
配置Tomcat的conf/context.xml
配置应用程序的web.xml文件(可选)
使用JNDI获取连接对象；
```
### JDBC优点：
不必为不同的数据库专门编写不同的程序，而只需要加载不同的数据库驱动即可；  
有了JDBC，向各种数据库发送SQL语句就变得容易多了；  
有了`JDBC API`，就不必为不同的数据库专门编写不同的程序了；而只需要加载不同的数据库驱动接口；
